[comment encoding = UTF-8
/**
 * <copyright>
 *
 * Copyright (c) 2002-2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *   IBM - Initial API and implementation
 *   Obeo - Migrate to Acceleo
 *
 * </copyright>
 */
/]
[module ItemProviderAdapterFactory('http://www.eclipse.org/emf/2002/GenModel','http://www.eclipse.org/emf/2002/Ecore')/]

[import org::eclipse::emf::eef::codegen::ecore::services::common /]
[import org::eclipse::emf::eef::codegen::ecore::services::header /]
[import org::eclipse::emf::eef::codegen::ecore::services::StringUtil /]
[import org::eclipse::emf::eef::codegen::ecore::services::wrappers::GenClass /]
[import org::eclipse::emf::eef::codegen::ecore::services::wrappers::GenPackage /]
[import org::eclipse::emf::eef::codegen::ecore::services::wrappers::GenModel /]
[import org::eclipse::emf::eef::codegen::ecore::services::wrappers::GenFeature /]
[import org::eclipse::emf::eef::codegen::ecore::services::wrappers::GenEnum /]
[import org::eclipse::emf::eef::codegen::ecore::services::wrappers::GenDataType /]
[import org::eclipse::emf::eef::codegen::ecore::services::wrappers::GenTypedElement /]

[template public ItemProviderAdapterFactory(genPackage : GenPackage) { genModel : GenModel = genPackage.genModel ; packageName : String = genPackage.getProviderPackageName() ; className : String = genPackage.getItemProviderAdapterFactoryClassName() }]
[genModel.initializeImportManager(packageName, className)/]
[file (genModel.editPath(packageName, className), false, 'UTF-8')]
[includeHeader()/]
package [packageName/];

[genModel.addImports()/]
[let content : String = genModel.fileContent(genPackage, className)]
[genModel.genSortedImports()/]

[content/]
[/let]
[/file]
[/template]

[template public addImports (genModel : GenModel) post (trim())]
[genModel.addImport('org.eclipse.emf.common.notify.Adapter')/]
[genModel.addImport('org.eclipse.emf.common.notify.Notification')/]
[genModel.addImport('org.eclipse.emf.common.notify.Notifier')/]
[genModel.addImport('org.eclipse.emf.edit.provider.ChangeNotifier')/]
[genModel.addImport('org.eclipse.emf.edit.provider.ComposeableAdapterFactory')/]
[genModel.addImport('org.eclipse.emf.edit.provider.ComposedAdapterFactory')/]
[genModel.addImport('org.eclipse.emf.edit.provider.IChangeNotifier')/]
[genModel.addImport('org.eclipse.emf.edit.provider.IEditingDomainItemProvider')/]
[genModel.addImport('org.eclipse.emf.edit.provider.IItemLabelProvider')/]
[genModel.addImport('org.eclipse.emf.edit.provider.IItemPropertySource')/]
[genModel.addImport('org.eclipse.emf.edit.provider.INotifyChangedListener')/]
[genModel.addImport('org.eclipse.emf.edit.provider.IStructuredItemContentProvider')/]
[genModel.addImport('org.eclipse.emf.edit.provider.ITreeItemContentProvider')/]
[/template]

[template public fileContent(genModel : GenModel, genPackage : GenPackage, className : String)]
/**
 * This is the factory that is used to provide the interfaces needed to support Viewers.
 * The adapters generated by this factory convert EMF adapter notifications into calls to {@link #fireNotifyChanged fireNotifyChanged}.
 * The adapters also support Eclipse property sheets.
 * Note that most of the adapters are shared among multiple instances.
 * <!-- begin-user-doc -->
 * <!-- end-user-doc -->
 * @generated
 */
public class [className/] extends [genPackage.getImportedAdapterFactoryClassName()/] implements ComposeableAdapterFactory, IChangeNotifier[if (genPackage.disposableProviderFactory)], [genModel.getImportedName('org.eclipse.emf.edit.provider.IDisposable')/][/if][if (genPackage.extensibleProviderFactory)], [genModel.getImportedName('org.eclipse.emf.edit.provider.IChildCreationExtender')/][/if]
{
[if (genModel.hasCopyrightField())]
	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public static final java.lang.String copyright = [genModel.getCopyrightFieldLiteral()/];[genModel.getNonNLS()/]

[/if]
	/**
	 * This keeps track of the root adapter factory that delegates to this adapter factory.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected ComposedAdapterFactory parentAdapterFactory;

	/**
	 * This is used to implement {@link org.eclipse.emf.edit.provider.IChangeNotifier}.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected IChangeNotifier changeNotifier = new ChangeNotifier();

[if (genPackage.disposableProviderFactory and genPackage.hasStatefulProvider())]
	/**
	 * This keeps track of all the item providers created, so that they can be {@link #dispose disposed}.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected [genModel.getImportedName('org.eclipse.emf.edit.provider.Disposable')/] disposable = new Disposable();

[/if]
[if (genPackage.extensibleProviderFactory)]
	/**
	 * This helps manage the child creation extenders.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected [genModel.getImportedName('org.eclipse.emf.edit.provider.ChildCreationExtenderManager')/] childCreationExtenderManager = new [genModel.getImportedName('org.eclipse.emf.edit.provider.ChildCreationExtenderManager')/]([genPackage.getImportedEditPluginClassName()/].INSTANCE, [genPackage.getImportedPackageInterfaceName()/].eNS_URI);

[/if]
	/**
	 * This keeps track of all the supported types checked by {@link #isFactoryForType isFactoryForType}.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected [_Collection(genPackage)/] supportedTypes = new [_ArrayList(genPackage)/]();

	/**
	 * This constructs an instance.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public [genPackage.getItemProviderAdapterFactoryClassName()/]()
	{
[for (name : String | genPackage.getProviderSupportedTypes())]
		supportedTypes.add([genModel.getImportedName(name)/].class);
[/for]
	}

[for (genDelegate : GenPackage | genPackage.getAdapterDelegatePackages())]
	/**
	 * This keeps track of the factory to which to delegate adapter creation for objects from that package.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected [genDelegate.getImportedAdapterFactoryClassName()/] [genPackage.getUncapAdapterFactoryDelegateName(genDelegate)/] = null;

	/**
	 * This determines the delegate factory for the package.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected [genDelegate.getImportedAdapterFactoryClassName()/] get[genPackage.getAdapterFactoryDelegateName(genDelegate)/]()
	{
		if ([genPackage.getUncapAdapterFactoryDelegateName(genDelegate)/] == null)
		{
			[genModel.getImportedName('org.eclipse.emf.common.notify.AdapterFactory')/] rootAdapterFactory = getRootAdapterFactory();
			if (rootAdapterFactory instanceof ComposedAdapterFactory)
			{
				[genModel.getImportedName('org.eclipse.emf.common.notify.AdapterFactory')/] delegateAdapterFactory =
					((ComposedAdapterFactory)rootAdapterFactory).getFactoryForType([genDelegate.getImportedAdapterFactoryClassName()/].getPackage());
				if (delegateAdapterFactory instanceof [genDelegate.getImportedAdapterFactoryClassName()/])
				{
					[genPackage.getUncapAdapterFactoryDelegateName(genDelegate)/] = ([genDelegate.getImportedAdapterFactoryClassName()/])delegateAdapterFactory;
				}
			}
		}
		return [genPackage.getUncapAdapterFactoryDelegateName(genDelegate)/];
	}

[/for]
[for (genClass : GenClass | genPackage.genClasses)]
[if (not genClass.isAbstract() and (genClass.provider <> GenProviderKind::None))]
[if (genClass.isProviderSingleton())]
	/**
	 * This keeps track of the one adapter used for all {@link [genClass.getQualifiedInterfaceName()/]} instances.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected [genClass.getProviderClassName()/] [genClass.getUncapName()/]ItemProvider;

	/**
	 * This creates an adapter for a {@link [genClass.getQualifiedInterfaceName()/]}.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
[if (genModel.useClassOverrideAnnotation())]
	@Override
[/if]
	public Adapter create[genClass.getName()/]Adapter()
	{
		if ([genClass.getUncapName()/]ItemProvider == null)
		{
			[genClass.getUncapName()/]ItemProvider = new [genClass.getProviderClassName()/](this);
		}

		return [genClass.getUncapName()/]ItemProvider;
	}

[else]
	/**
	 * This creates an adapter for a {@link [genClass.getQualifiedInterfaceName()/]}.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
[if (genModel.useClassOverrideAnnotation())]
	@Override
[/if]
	public Adapter create[genClass.getName()/]Adapter()
	{
		return new [genClass.getProviderClassName()/](this);
	}

[/if]
[/if]
[/for]
[for (genClass : GenClass | genPackage.getAdapterDelegateSuperClasses())]
	/**
	 * <[genClass.getName()/] of [genClass.getItemProviderAdapterFactoryClassName()/]
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public Adapter create[genClass.getName()/]Adapter()
	{
		return
			get[genClass.getItemProviderAdapterFactoryClassName()/]() == null ?
				null :
				get[genClass.getItemProviderAdapterFactoryClassName()/]().create[genClass.getName()/]Adapter();
	}

[/for]
	/**
	 * This returns the root adapter factory that contains this factory.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public ComposeableAdapterFactory getRootAdapterFactory()
	{
		return parentAdapterFactory == null ? this : parentAdapterFactory.getRootAdapterFactory();
	}

	/**
	 * This sets the composed adapter factory that contains this factory.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public void setParentAdapterFactory(ComposedAdapterFactory parentAdapterFactory)
	{
		this.parentAdapterFactory = parentAdapterFactory;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
[if (genModel.useClassOverrideAnnotation())]
	@Override
[/if]
	public boolean isFactoryForType(Object type)
	{
		return supportedTypes.contains(type) || super.isFactoryForType(type);
	}

	/**
	 * This implementation substitutes the factory itself as the key for the adapter.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
[if (genModel.useClassOverrideAnnotation())]
	@Override
[/if]
	public Adapter adapt(Notifier notifier, Object type)
	{
		return super.adapt(notifier, this);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
[if (genModel.useClassOverrideAnnotation())]
	@Override
[/if]
	public Object adapt(Object object, Object type)
	{
		if (isFactoryForType(type))
		{
			Object adapter = super.adapt(object, type);
			if (!(type instanceof Class[if (genModel.useGenerics())]<?>[/if]) || [if (genModel.runtimePlatform = GenRuntimePlatform::GWT)][genModel.getImportedName('org.eclipse.emf.common.util.Reflect')/].isInstance((Class[if (genModel.useGenerics())]<?>[/if])type, adapter)[else](((Class[if (genModel.useGenerics())]<?>[/if])type).isInstance(adapter))[/if])
			{
				return adapter;
			}
		}

		return null;
	}

[if (genPackage.disposableProviderFactory and genPackage.hasStatefulProvider())]
	/**
	 * Associates an adapter with a notifier via the base implementation, then records it to ensure it will be disposed.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
[if (genModel.useClassOverrideAnnotation())]
	@Override
[/if]
	protected void associate(Adapter adapter, Notifier target)
	{
		super.associate(adapter, target);
		if (adapter != null)
		{
			disposable.add(adapter);
		}
	}

[/if]
[if (genPackage.extensibleProviderFactory)]
	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public [if useGenerics(genPackage)][genModel.getImportedName('java.util.List')/]<[genModel.getImportedName('org.eclipse.emf.edit.provider.IChildCreationExtender')/]>[else][genModel.getImportedName('java.util.List')/][/if] getChildCreationExtenders()
	{
		return childCreationExtenderManager.getChildCreationExtenders();
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public [if useGenerics(genPackage)][genModel.getImportedName('java.util.Collection')/]<?>[else][genModel.getImportedName('java.util.Collection')/][/if] getNewChildDescriptors(Object object, [genModel.getImportedName('org.eclipse.emf.edit.domain.EditingDomain')/] editingDomain)
	{
		return childCreationExtenderManager.getNewChildDescriptors(object, editingDomain);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public [genModel.getImportedName('org.eclipse.emf.common.util.ResourceLocator')/] getResourceLocator()
	{
		return childCreationExtenderManager;
	}

[/if]
	/**
	 * This adds a listener.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public void addListener(INotifyChangedListener notifyChangedListener)
	{
		changeNotifier.addListener(notifyChangedListener);
	}

	/**
	 * This removes a listener.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public void removeListener(INotifyChangedListener notifyChangedListener)
	{
		changeNotifier.removeListener(notifyChangedListener);
	}

	/**
	 * This delegates to {@link #changeNotifier} and to {@link #parentAdapterFactory}.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public void fireNotifyChanged(Notification notification)
	{
		changeNotifier.fireNotifyChanged(notification);

		if (parentAdapterFactory != null)
		{
			parentAdapterFactory.fireNotifyChanged(notification);
		}
	}

[if (genPackage.disposableProviderFactory)]
	/**
	 * This disposes all of the item providers created by this factory. 
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public void dispose()
	{
[if (genPackage.hasStatefulProvider())]
		disposable.dispose();
[else]
[for (genClass : GenClass | genPackage.genClasses)]
[if (not genClass.isAbstract() and genClass.isProviderSingleton())]
		if ([genClass.getUncapName()/]ItemProvider != null) [genClass.getUncapName()/]ItemProvider.dispose();
[/if]
[/for]
[/if]
	}

[/if]
[if (genPackage.childCreationExtenders)]
[comment <%for (Map.Entry<GenPackage, Map<GenClass, List<GenClass.ChildCreationData>>> packageEntry : genPackage.getExtendedChildCreationData().entrySet()) {%> /]
  [for (genPackage.getExtendedChildCreationDataEntrySet())]
[comment packageEntry.getKey() = GenPackage/] 
  [let key : GenPackage = getPackageEntryKey()]
	/**
	 * A child creation extender for the {@link [key.getImportedPackageInterfaceName()/]}.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public static class [genPackage.getChildCreationExtenderName(key)/] implements [genModel.getImportedName('org.eclipse.emf.edit.provider.IChildCreationExtender')/]
	{
		/**
		 * The switch for creating child descriptors specific to each extended class.
		 * <!-- begin-user-doc -->
		 * <!-- end-user-doc -->
		 * @generated
		 */
		protected static class CreationSwitch extends [genModel.getImportedName(key.getQualifiedSwitchClassName())/][if useGenerics(genPackage)]<Object>[/if]
		{
			/**
			 * The child descriptors being populated.
			 * <!-- begin-user-doc -->
			 * <!-- end-user-doc -->
			 * @generated
			 */
			protected [genModel.getImportedName('java.util.List')/][if useGenerics(genPackage)]<Object>[/if] newChildDescriptors;

			/**
			 * The domain in which to create the children.
			 * <!-- begin-user-doc -->
			 * <!-- end-user-doc -->
			 * @generated
			 */
			protected [genModel.getImportedName('org.eclipse.emf.edit.domain.EditingDomain')/] editingDomain;

			/**
			 * Creates the a switch for populating child descriptors in the given domain.
			 * <!-- begin-user-doc -->
			 * <!-- end-user-doc -->
			 * @generated
			 */
			CreationSwitch([genModel.getImportedName('java.util.List')/][if useGenerics(genPackage)]<Object>[/if] newChildDescriptors, [genModel.getImportedName('org.eclipse.emf.edit.domain.EditingDomain')/] editingDomain) 
			{
				this.newChildDescriptors = newChildDescriptors;
				this.editingDomain = editingDomain;
			}
[comment <%for (Map.Entry<GenClass, List<GenClass.ChildCreationData>> classEntry : packageEntry.getValue().entrySet()) { GenClass genClass = classEntry.getKey();%>/]
    [for (getPackageEntryValueEntrySet())]
    [let genClass : GenClass = getClassEntryKey()]
			/**
			 * <!-- begin-user-doc -->
			 * <!-- end-user-doc -->
			 * @generated
			 */
[if (genModel.useClassOverrideAnnotation())]
			@Override
[/if]
			public [genClass.getTypeParameters()/]Object case[genPackage.getClassUniqueName(genClass)/]([genClass.getImportedInterfaceName()/][genClass.getInterfaceTypeArguments()/] object)
			{
[comment <%for (GenClass.ChildCreationData childCreationData : classEntry.getValue()) { GenFeature createFeature = childCreationData.createFeature; GenFeature delegatedFeature = childCreationData.delegatedFeature; GenClassifier createClassifier = childCreationData.createClassifier;%>/]
     [for (getClassEntryChildCreationData())]
      [if (getChildCreationDataCreateFeature().isFeatureMapType())]
        [if (getChildCreationDataDelegatedFeature().isReferenceType())]
[comment]<%@ include file="ItemProvider/newChildDescriptorsReferenceDelegatedFeature.override.javajetinc" fail="alternative"%>
<%@ start %>[/comment]
				newChildDescriptors.add
					(createChildParameter
						([getChildCreationDataCreateFeature().getQualifiedFeatureAccessor()/],
						 [genModel.getImportedName('org.eclipse.emf.ecore.util.FeatureMapUtil')/].createEntry
							([getChildCreationDataDelegatedFeature().getQualifiedFeatureAccessor()/],
          [if (getChildCreationDataCreateClassifier().oclAsType(GenClass).isMapEntry())]
							 [getChildCreationDataCreateClassifier().oclAsType(GenClass).genPackage.getQualifiedEFactoryInstanceAccessor()/].create([getChildCreationDataCreateClassifier().oclAsType(GenClass).getQualifiedClassifierAccessor()/]))));
          [else]
							 [getChildCreationDataCreateClassifier().oclAsType(GenClass).genPackage.getQualifiedFactoryInstanceAccessor()/].create[getChildCreationDataCreateClassifier().oclAsType(GenClass).getName()/]())));
          [/if]
[comment]<%@ include file="ItemProvider/newChildDescriptorsReferenceDelegatedFeature.insert.javajetinc" fail="silent"%>
<%@ end %><%//ItemProvider/newChildDescriptorsReferenceDelegatedFeature.override.javajetinc%>[/comment]
        [else]
[comment]<%@ include file="ItemProvider/newChildDescriptorsAttributeDelegatedFeature.override.javajetinc" fail="alternative"%>
<%@ start %>[/comment]
				newChildDescriptors.add
					(createChildParameter
						([getChildCreationDataCreateFeature().getQualifiedFeatureAccessor()/],
						 [genModel.getImportedName('org.eclipse.emf.ecore.util.FeatureMapUtil')/].createEntry
							([getChildCreationDataDelegatedFeature().getQualifiedFeatureAccessor()/],
          [if (getChildCreationDataDelegatedFeature().isEnumBasedType())]
							 [getChildCreationDataDelegatedFeature().getTypeGenEnum().getStaticValue(getChildCreationDataDelegatedFeature().ecoreFeature.defaultValueLiteral)/])));
          [elseif (getChildCreationDataDelegatedFeature().isStringBasedType())]
							 [getChildCreationDataDelegatedFeature().getCreateChildValueLiteral()/])));[genModel.getNonNLS()/]
          [else]
							 [getChildCreationDataCreateClassifier().oclAsType(GenDataType).genPackage.getQualifiedEFactoryInstanceAccessor()/].createFromString([getChildCreationDataCreateClassifier().oclAsType(GenDataType).getQualifiedClassifierAccessor()/], [getChildCreationDataDelegatedFeature().getCreateChildValueLiteral()/]))));[if (not getChildCreationDataDelegatedFeature().getCreateChildValueLiteral().oclIsUndefined())][genModel.getNonNLS()/][else] // TODO: ensure this is a valid literal value[/if]
          [/if]
[comment]<%@ include file="ItemProvider/newChildDescriptorsAttributeDelegatedFeature.insert.javajetinc" fail="silent"%>
<%@ end %><%//ItemProvider/newChildDescriptorsAttributeDelegatedFeature.override.javajetinc%>[/comment]
        [/if]
      [elseif (getChildCreationDataCreateFeature().isReferenceType())]
[comment]<%@ include file="ItemProvider/newChildDescriptorsReferenceFeature.override.javajetinc" fail="alternative"%>
<%@ start %>[/comment]
				newChildDescriptors.add
					(createChildParameter
						([getChildCreationDataCreateFeature().getQualifiedFeatureAccessor()/],
        [if (getChildCreationDataCreateClassifier().oclAsType(GenClass).isMapEntry())]
						 [getChildCreationDataCreateClassifier().oclAsType(GenClass).genPackage.getQualifiedEFactoryInstanceAccessor()/].create([getChildCreationDataCreateClassifier().oclAsType(GenClass).getQualifiedClassifierAccessor()/])));
        [else]
						 [getChildCreationDataCreateClassifier().oclAsType(GenClass).genPackage.getQualifiedFactoryInstanceAccessor()/].create[getChildCreationDataCreateClassifier().oclAsType(GenClass).getName()/]()));
        [/if]
[comment]<%@ include file="ItemProvider/newChildDescriptorsReferenceFeature.insert.javajetinc" fail="silent"%>
<%@ end %><%//ItemProvider/newChildDescriptorsReferenceFeature.override.javajetinc %>[/comment]
      [else]
[comment]<%@ include file="ItemProvider/newChildDescriptorsAttributeFeature.override.javajetinc" fail="alternative"%>
<%@ start %>[/comment]
				newChildDescriptors.add
					(createChildParameter
						([getChildCreationDataCreateFeature().getQualifiedFeatureAccessor()/],
        [if (getChildCreationDataCreateFeature().isEnumBasedType())]
						 [getChildCreationDataCreateFeature().getTypeGenEnum().getStaticValue(getChildCreationDataCreateFeature().ecoreFeature.defaultValueLiteral)/]));
        [elseif (getChildCreationDataCreateFeature().isStringBasedType())]
						 [getChildCreationDataCreateFeature().getCreateChildValueLiteral()/]));[genModel.getNonNLS()/]
        [else]
						 [getChildCreationDataCreateClassifier().oclAsType(GenDataType).genPackage.getQualifiedEFactoryInstanceAccessor()/].createFromString([getChildCreationDataCreateClassifier().oclAsType(GenDataType).getQualifiedClassifierAccessor()/], [getChildCreationDataCreateFeature().getCreateChildValueLiteral()/])));[if (not getChildCreationDataCreateFeature().getCreateChildValueLiteral().oclIsUndefined())][genModel.getNonNLS()/][else] // TODO: ensure this is a valid literal value[/if]
        [/if]
[comment]<%@ include file="ItemProvider/newChildDescriptorsAttributeFeature.insert.javajetinc" fail="silent"%>
<%@ end %><%//ItemProvider/newChildDescriptorsAttributeFeature.override.javajetinc%>[/comment]
      [/if]

     [/for]
				return null;
			}

     [/let]
     [/for]
			/**
			 * <!-- begin-user-doc -->
			 * <!-- end-user-doc -->
			 * @generated
			 */
			protected [genModel.getImportedName('org.eclipse.emf.edit.command.CommandParameter')/] createChildParameter(Object feature, Object child)
			{
				return new [genModel.getImportedName('org.eclipse.emf.edit.command.CommandParameter')/](null, feature, child);
			}

		}

		/**
		 * <!-- begin-user-doc -->
		 * <!-- end-user-doc -->
		 * @generated
		 */
		public [_Collection(genPackage)/] getNewChildDescriptors(Object object, [genModel.getImportedName('org.eclipse.emf.edit.domain.EditingDomain')/] editingDomain)
		{
			[_ArrayList(genPackage)/] result = new [_ArrayList(genPackage)/]();
		   new CreationSwitch(result, editingDomain).doSwitch(([genModel.getImportedName('org.eclipse.emf.ecore.EObject')/])object);
		   return result;
		}

		/**
		 * <!-- begin-user-doc -->
		 * <!-- end-user-doc -->
		 * @generated
		 */
		public [genModel.getImportedName('org.eclipse.emf.common.util.ResourceLocator')/] getResourceLocator()
		{
			return [genPackage.getImportedEditPluginClassName()/].INSTANCE;
		}
	}

  [/let]
  [/for]
[/if]
}
[/template]

[query public useGenerics(genPackage : GenPackage) : Boolean = genModel.useGenerics()/]

[template protected _ArrayList (genPackage : GenPackage)]
[genPackage.genModel.getImportedName('java.util.ArrayList')/][if genPackage.useGenerics()]<[genPackage.genModel.getImportedName('java.lang.Object')/]>[/if]
[/template]

[template protected _Collection (genPackage : GenPackage)]
[genPackage.genModel.getImportedName('java.util.Collection')/][if genPackage.useGenerics()]<[genPackage.genModel.getImportedName('java.lang.Object')/]>[/if]
[/template]