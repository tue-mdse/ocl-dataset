[comment encoding = UTF-8 /]
[module domain2objc('http://www.eclipse.org/uml2/4.0.0/UML')]

[import xismobile::pim::uml2::gen::ios::common::xisMobileUtils/]
[import xismobile::pim::uml2::gen::ios::files::generateClasses/]
[import xismobile::pim::uml2::gen::ios::services::services /]
[import xismobile::pim::uml2::gen::ios::files::generateDBManager/]
[import xismobile::pim::uml2::gen::ios::files::generateManager/]

[template public domain2objc(m : Model)]
[let entities : OrderedSet(Class) = m.getAllXisEntities()]
[if (entities->size() > 0)]
	[for (c : Class | entities)]
	[c.generateClasses()/]
	[/for]
	[if (entities->at(1).isPersistent())]
	[generateDBManager(m.getAllXisEntities())/]
	[else]
	[generateManager(m.getAllXisEntities())/]
	[/if]
[/if]
[/let]
[/template]
