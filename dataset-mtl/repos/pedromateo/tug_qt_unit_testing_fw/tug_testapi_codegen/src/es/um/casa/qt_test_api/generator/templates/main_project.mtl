[comment encoding = UTF-8 /]
[module main_project('platform:/resource/qt48_model/qt48_xmlschema_qwt_enhanced.xsd')]

[query public getCurrentTime(c : OclAny) : String 
=  invoke('es.um.casa.qt_test_api.generator.support.GenerationSupport', 'getCurrentTime()', Sequence{}) /]

[comment ---------------------------------------------------------------------- /]
[comment --------------- BUILD ALL PRO FILE ----------------------------------- /]
[comment ---------------------------------------------------------------------- /]

[template public generateMainProject(
     testpanelgendir : ecore::EString,
     testsuitesgendir : ecore::EString,
     projectname : ecore::EString,
     uiclassname : ecore::EString,
     testsuitesinc : ecore::EString)]

[file ('build_all.pro', false, 'UTF-8')]
#/// generation start ////////////////////////////////////////////////////////////

#-------------------------------------------------------------------------------
# Qt project automatically generated by TUG Wizard at [getCurrentTime()/]
#-------------------------------------------------------------------------------

# main target
PROJECT_NAME = [projectname/]
TEMPLATE = subdirs
BUILD_DIR = bin
DESTDIR = $${BUILD_DIR}
MOC_DIR = $${BUILD_DIR}/mocs
OBJECTS_DIR = $${BUILD_DIR}/objs

# config
QT       += core gui testlib
CONFIG += no_keywords debug

equals(QT_MAJOR_VERSION, 5) {
  message(" Using QT 5 kit...")
   QT += widgets
}
else {
  message(" Using QT 4 kit...")
}



# testsuite targets
SUBDIRS += [testpanelgendir + uiclassname/]_testproject.pro
[comment SUBDIRS statements/]
[comment ("target","","")("target","","")/]
[if (testsuitesinc.size() > 0)]
[for (s : ecore::EString | testsuitesinc.tokenize('\\)'))] 
SUBDIRS += [testsuitesgendir/][s.replaceAll('\\(','').replaceAll('"','').tokenize(',')->first() /]
[/for]
[/if]


#/// generation end ////////////////////////////////////////////////////////////
[/file]
[/template]
