<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="nuopc" nsURI="http://www.earthsystemcurator.org/nuopc" nsPrefix="nuopc">
  <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore">
    <details key="invocationDelegates" value="http://www.eclipse.org/emf/2002/Ecore/OCL"/>
    <details key="settingDelegates" value="http://www.eclipse.org/emf/2002/Ecore/OCL"/>
    <details key="validationDelegates" value="http://www.eclipse.org/emf/2002/Ecore/OCL"/>
  </eAnnotations>
  <eClassifiers xsi:type="ecore:EClass" name="Top">
    <eStructuralFeatures xsi:type="ecore:EReference" name="apps" lowerBound="1" eType="#//NUOPCApplication"
        containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCApplication">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="NUOPC Application"/>
      <details key="icon" value="application_cascade.png"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="nuopcModel" ordered="false"
        upperBound="-1" eType="#//NUOPCModel" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="module"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="nuopcDriver" ordered="false"
        upperBound="-1" eType="#//NUOPCDriver" containment="true" eOpposite="#//NUOPCDriver/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="module"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="nuopcDriverAtmOcn" ordered="false"
        upperBound="-1" eType="#//NUOPCDriverAtmOcn" containment="true" eOpposite="#//NUOPCDriverAtmOcn/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="module"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="nuopcMediator" ordered="false"
        upperBound="-1" eType="#//NUOPCMediator" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="module"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="NUOPC Model classes"/>
    </eAnnotations>
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="NUOPC Model"/>
      <details key="doc" value="NUOPC Model is a generic model component that wraps a model code so it is suitable to be plugged into a generic Driver component."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="ModelDefault">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="moduleName"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="genericImports" lowerBound="1"
        eType="#//NUOPCModel__GenericImports" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesModule: &quot;NUOPC_Model&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSetServices"
        lowerBound="1" eType="#//NUOPCModel__ImplementsSetServices" containment="true"
        eOpposite="#//NUOPCModel__ImplementsSetServices/parent" eKeys="#//NUOPCModel__ImplementsSetServices/name">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="#.. subroutine: &quot;#name(inout type(ESMF_GridComp) #gcomp, out integer #rc)&quot;"/>
        <details key="essential" value="true"/>
        <details key="mappingNew" value="subroutine(#name(inout type(ESMF_GridComp) #gcomp, out integer #rc))"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="initialize" lowerBound="1"
        eType="#//NUOPCModel__Init" containment="true" eOpposite="#//NUOPCModel__Init/parent"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="modelAdvance" upperBound="-1"
        eType="#//NUOPCModel__ModelAdvance" containment="true" eOpposite="#//NUOPCModel__ModelAdvance/parent"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__GenericImports">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Imports from NUOPC Model"/>
      <details key="doc" value="Subclasses of NUOPC Model should import generic subroutines, types, and labels from NUOPC_Model."/>
      <details key="icon" value="import.png"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsGenericSS" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="model_routine_SS">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;routine_SetServices&quot;"/>
        <details key="label" value="routine_SetServices"/>
        <details key="doc" value="Subclasses of NUOPC Model should import the public generic Set Services subroutine &quot;routine_SetServices&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsLabelModelAdvance"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="model_label_Advance">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;label_Advance&quot;"/>
        <details key="label" value="label_Advance"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__Init">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Model Initialization"/>
      <details key="doc" value="Framework concepts related to initializing this NUOPC Model"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCModel" eOpposite="#//NUOPCModel/initialize"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsInitP1" lowerBound="1"
        eType="#//NUOPCModel__ImplementsInitP1" containment="true" eOpposite="#//NUOPCModel__ImplementsInitP1/parent"
        eKeys="#//NUOPCModel__ImplementsInitP1/name">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) gcomp, inout type(ESMF_State) #importParam, inout type(ESMF_State) #exportParam, inout type(ESMF_Clock) clock, out integer rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsInitP2" lowerBound="1"
        eType="#//NUOPCModel__ImplementsInitP2" containment="true" eOpposite="#//NUOPCModel__ImplementsInitP2/parent"
        eKeys="#//NUOPCModel__ImplementsInitP2/name">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) gcomp, inout type(ESMF_State) #importParam, inout type(ESMF_State) #exportParam, inout type(ESMF_Clock) #ignore, out integer #ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__ImplementsSetServices">
    <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore">
      <details key="constraints" value="registersInitP1 registersInitP2"/>
    </eAnnotations>
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Services"/>
      <details key="doc" value="In general, a Set Services method is a public subroutine that sets entry points for the component. This subroutine should call the Set Services subroutine in the generic NUOPC Model component."/>
    </eAnnotations>
    <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
      <details key="registersInitP1" value="self.parent.initialize.implementsInitP1=null or self.callsSetEntryPoint->select(c|c.userRoutine=self.parent.initialize.implementsInitP1.name)->notEmpty()"/>
      <details key="registersInitP1$message" value="'A call is required in the Set Services method to ESMF_GridCompSetEntryPoint in order to register the initialize phase 1 method.'"/>
      <details key="registersInitP2" value="self.parent.initialize.implementsInitP2=null or self.callsSetEntryPoint->select(c|c.userRoutine=self.parent.initialize.implementsInitP2.name)->notEmpty()"/>
      <details key="registersInitP2$message" value="'A call is required in the Set Services method to ESMF_GridCompSetEntryPoint in order to register the initialize phase 2 method.'"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCModel" eOpposite="#//NUOPCModel/implementsSetServices"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="SetServices"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="gcomp" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="gcomp"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="callsGenericSetServices"
        lowerBound="1" eType="#//CallsGenericSetServices" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;#../../genericImports/importsGenericSS(#gcomp, rc=#rc)&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="callsSetEntryPoint" upperBound="-1"
        eType="#//CallsSetEntryPoint" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_GridCompSetEntryPoint(#ignore, #method, userRoutine=#userRoutine, phase?=#phase, rc=#ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="attachesMethod" ordered="false"
        upperBound="-1" eType="#//AttachesMethod" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_MethodAdd(#ignore, index?=#index, label=#name, userRoutine=#userRoutine, rc=#ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__ImplementsInitP1">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) gcomp, inout type(ESMF_State) #importParam, inout type(ESMF_State) #exportParam, inout type(ESMF_Clock) clock, out integer rc)&quot;"/>
      <details key="doc" value="Initialize Phase Definition: IPDv01p1&#xD;&#xA;&#xD;&#xA;In this phase, models should advertise the set of import and export fields. This is the list of fields that may potentially be exchanged during coupling, although some fields may not be connected for a particular configuration."/>
      <details key="label" value="Initialize Phase Definition - IPDv01p1"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCModel__Init" eOpposite="#//NUOPCModel__Init/implementsInitP1"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="InitP1"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importParam" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="importState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="exportParam" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="exportState"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="advertisesImportField"
        upperBound="-1" eType="#//NUOPCModel__AdvertisesImportField" containment="true"
        eOpposite="#//NUOPCModel__AdvertisesImportField/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;NUOPC_StateAdvertiseField(#addsToState, StandardName=#standardName, #rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="advertisesExportField"
        upperBound="-1" eType="#//NUOPCModel__AdvertisesExportField" containment="true"
        eOpposite="#//NUOPCModel__AdvertisesExportField/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;NUOPC_StateAdvertiseField(#addsToState, StandardName=#standardName, #rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="advertisesAtLeastOneField"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
        derived="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.advertisesExportField->size() > 0 or self.advertisesImportField->size() > 0"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="registeredInSetServices"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.parent.parent.implementsSetServices &lt;> null and self.parent.parent.implementsSetServices.callsSetEntryPoint->select(c|c.userRoutine=self.name and c.phase='1')->notEmpty()"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="advertisesOrRegistered"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.registeredInSetServices or self.advertisesAtLeastOneField"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__ImplementsInitP2">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) gcomp, inout type(ESMF_State) #importParam, inout type(ESMF_State) #exportParam, inout type(ESMF_Clock) clock, out integer rc)&quot;"/>
      <details key="doc" value="Initialize Phase Definition: IPDv01p2&#xD;&#xA;&#xD;&#xA;In this phase, models should realize the set of import and export fields. "/>
      <details key="label" value="Initialize Phase Definition - IPDv01p2"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCModel__Init" eOpposite="#//NUOPCModel__Init/implementsInitP2"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="InitP2"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importParam" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="importState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="exportParam" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="exportState"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="realizesImportField" upperBound="-1"
        eType="#//NUOPCModel__RealizesImportField" containment="true" eOpposite="#//NUOPCModel__RealizesImportField/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;NUOPC_StateRealizeField(#realizedInState, field=#field, rc=#rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="realizesExportField" upperBound="-1"
        eType="#//NUOPCModel__RealizesExportField" containment="true" eOpposite="#//NUOPCModel__RealizesExportField/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;NUOPC_StateRealizeField(#realizedInState, field=#field, rc=#rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizesAtLeastOneField"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
        derived="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.realizesImportField->size() > 0 or self.realizesExportField->size() > 0"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="registeredInSetServices"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.parent.parent.implementsSetServices &lt;> null and self.parent.parent.implementsSetServices.callsSetEntryPoint->select(c|c.userRoutine=self.name and c.phase='2')->notEmpty()"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizesOrRegistered" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.registeredInSetServices or self.realizesAtLeastOneField"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__AdvertisesImportField">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Advertise Import Field"/>
      <details key="task" value="Advertise Import Field"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCModel__ImplementsInitP1" eOpposite="#//NUOPCModel__ImplementsInitP1/advertisesImportField"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="addsToState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="importState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="addsToImportState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.addsToState = self.parent.importParam"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="standardName" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="&quot;Standard_Name&quot;"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__AdvertisesExportField">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Advertise Export Field"/>
      <details key="task" value="Advertise Export Field"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCModel__ImplementsInitP1" eOpposite="#//NUOPCModel__ImplementsInitP1/advertisesExportField"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="addsToState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="exportState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="addsToExportState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.addsToState = self.parent.exportParam"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="standardName" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="&quot;Standard_Name&quot;"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__RealizesImportField">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="call: NUOPC_StateRealizeField"/>
      <details key="label" value="Realize Import Field"/>
      <details key="task" value="Realize Import Field"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCModel__ImplementsInitP2" eOpposite="#//NUOPCModel__ImplementsInitP2/realizesImportField"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizedInState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="importState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizedInImportState"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
        derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.realizedInState = self.parent.importParam"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="field" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mappingX" value="argByIndex: 2"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__RealizesExportField">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Realize Export Field"/>
      <details key="task" value="Realize Export Field"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCModel__ImplementsInitP2" eOpposite="#//NUOPCModel__ImplementsInitP2/realizesExportField"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizedInState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="exportState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizedInExportState"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
        derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.realizedInState = self.parent.exportParam"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="field" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mappingX" value="argByIndex: 2"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__ModelAdvance">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Model Advance"/>
      <details key="doc" value="A subroutine called to advance the model ahead by the timestep interval."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCModel" eOpposite="#//NUOPCModel/modelAdvance"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="attached" lowerBound="1"
        eType="#//NUOPCModel__ModelAdvance__Attached" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mappingNew" value="#../../implementsSetServices call(ESMF_MethodAdd(#ignore, index?=#index, label=#../../genericImports/importsLabelModelAdvance, userRoutine=#userRoutine, rc=#../../implementsSetServices/rc))"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSubroutine" lowerBound="1"
        eType="#//NUOPCModel__ModelAdvance__ImplementsSubroutine" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mappingNew" value="subroutine(#../attached/userRoutine(inout type(ESMF_GridComp) gcomp, out integer rc)"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__ModelAdvance__ImplementsSubroutine">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Model Advance Subroutine"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="ModelAdvance">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mappingNew" value="subroutineName"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCModel__ModelAdvance__Attached">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Registered in Set Services"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="userRoutine" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="ModelAdvanceDefault"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="index" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriver">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="module"/>
      <details key="label" value="NUOPC Driver"/>
      <details key="doc" value="NUOPC Driver is the generic driver component. It implements a child component harness, made of State and Component objects, that follows the NUOPC Common Model Architecture. It is specialized by plugging Model, Mediator, and Connector components into the harness. Driver components can be plugged into the harness to construct component hierarchies. The generic Driver initializes its child components according to a standard Initialization Phase Definition, and drives their Run() methods according a customizable run sequence."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCApplication" eOpposite="#//NUOPCApplication/nuopcDriver"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="DriverDefault">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="moduleName"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="genericImports" lowerBound="1"
        eType="#//NUOPCDriver__GenericImports" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesModule: &quot;NUOPC_Driver&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="modelImports" lowerBound="1"
        eType="#//NUOPCDriver__ModelImports" containment="true" eOpposite="#//NUOPCDriver__ModelImports/parent"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="connectorImports" eType="#//NUOPCDriver__ConnectorImports"
        containment="true" eOpposite="#//NUOPCDriver__ConnectorImports/parent"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSetServices"
        lowerBound="1" eType="#//NUOPCDriver__ImplementsSetServices" containment="true"
        eOpposite="#//NUOPCDriver__ImplementsSetServices/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(type(ESMF_GridComp) #param_gcomp, integer #param_rc)&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSetModelCount"
        eType="#//NUOPCDriver__ImplementsSetModelCount" containment="true" eOpposite="#//NUOPCDriver__ImplementsSetModelCount/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(type(ESMF_GridComp) #gcomp, integer #rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSetModelServices"
        eType="#//NUOPCDriver__ImplementsSetModelServices" containment="true" eOpposite="#//NUOPCDriver__ImplementsSetModelServices/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(type(ESMF_GridComp) #gcomp, integer #rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriver__GenericImports">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Imports from NUOPC Driver"/>
      <details key="doc" value="Subclasses of NUOPC Driver should import generic subroutines, types, and labels from NUOPC_Driver."/>
      <details key="icon" value="import.png"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsGenericSS" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="driver_routine_SS">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;routine_SetServices&quot;"/>
        <details key="label" value="routine_SetServices"/>
        <details key="doc" value="Subclasses of NUOPC Driver should import the public generic Set Services subroutine &quot;routine_SetServices&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsTypeDriverIS" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="driver_type_IS">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;type_InternalState&quot;"/>
        <details key="label" value="type_InternalState"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsLabelSetModelCount"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="driver_label_SetModelCount">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;label_SetModelCount&quot;"/>
        <details key="label" value="label_SetModelCount"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsLabelSetModelServices"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="driver_label_SetModelServices">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;label_SetModelServices&quot;"/>
        <details key="label" value="label_SetModelServices"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriver__ModelImports">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Child Model Imports"/>
      <details key="icon" value="import.png"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriver" eOpposite="#//NUOPCDriver/modelImports"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="modelImport" upperBound="-1"
        eType="#//NUOPCDriver__ModelImports__ModelImport" containment="true" eOpposite="#//NUOPCDriver__ModelImports__ModelImport/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesModule: &quot;#name&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriver__ModelImports__ModelImport">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Model Import"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriver__ModelImports" eOpposite="#//NUOPCDriver__ModelImports/modelImport"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="setServices" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="modelRef" lowerBound="1"
        eType="#//NUOPCModel">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="let models : Set(NUOPCModel) = self.parent.parent.parent.nuopcModel->select(m|m.name=self.name)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;in&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if models &lt;> null and models->notEmpty() then&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;models->asSequence()->first()&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;else &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;null &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;endif"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriver__ConnectorImports">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Child Connector Imports"/>
      <details key="icon" value="import.png"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriver" eOpposite="#//NUOPCDriver/connectorImports"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="connectorImport" upperBound="-1"
        eType="#//NUOPCDriver__ConnectorImports__ConnectorImport" containment="true"
        eOpposite="#//NUOPCDriver__ConnectorImports__ConnectorImport/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesModule: &quot;NUOPC_Connector&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriver__ConnectorImports__ConnectorImport">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Connector Import"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriver__ConnectorImports" eOpposite="#//NUOPCDriver__ConnectorImports/connectorImport"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="moduleName"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="setServices" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="connector_SetServices">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;routine_SetServices&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriver__ImplementsSetServices">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Services"/>
      <details key="doc" value="In general, a Set Services method is a public subroutine that sets entry points for the component. This subroutine should call the Set Services subroutine in the generic NUOPC Driver component."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriver" eOpposite="#//NUOPCDriver/implementsSetServices"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="SetServices" iD="true"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="param_gcomp" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="gcomp">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mappingX" value="formalParam: 1"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="param_rc" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="rc">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mappingX" value="formalParam: 2"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="callsGenericSetServices"
        lowerBound="1" eType="#//CallsGenericSetServices" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;#../../genericImports/importsGenericSS(#gcomp, rc=#rc)&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="attachesMethod" upperBound="-1"
        eType="#//AttachesMethod" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_MethodAdd(#../param_gcomp, #name, #userRoutine, #ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriver__ImplementsSetModelCount">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Model Count"/>
      <details key="doc" value="A subroutine that sets the number of model managed by this driver."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriver" eOpposite="#//NUOPCDriver/implementsSetModelCount"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="gcomp" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="gcomp"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="SetModelCount" iD="true"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="driverInternalState" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="localVariable: &quot;type(type_InternalState)&quot; definedInModule: &quot;NUOPC_Driver&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="getsInternalState" eType="#//GetsInternalState"
        containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_UserCompGetInternalState(#ignore, #label, #../driverInternalState, #ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="assignsValue" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="assigns: #driverInternalState"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="attached" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.parent.genericImports.importsLabelSetModelCount &lt;> null and self.name = self.parent.implementsSetServices.attachesMethod->select(m|m.name=self.parent.genericImports.importsLabelSetModelCount).userRoutine->asSequence()->first()"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriver__ImplementsSetModelServices">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Model Services"/>
      <details key="doc" value="A subroutine that sets services for child models."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriver" eOpposite="#//NUOPCDriver/implementsSetModelServices"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="gcomp" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="gcomp"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="SetModelServices" iD="true"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="driverInternalState" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="localVariable: &quot;type(type_InternalState)&quot; definedInModule: &quot;NUOPC_Driver&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="getsInternalState" eType="#//GetsInternalState"
        containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_UserCompGetInternalState(#ignore, #label, #../driverInternalState, #ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="assignsValue" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="assigns: #driverInternalState"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="attached" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.name = self.parent.implementsSetServices.attachesMethod->select(m|m.name=self.parent.genericImports.importsLabelSetModelServices).userRoutine->asSequence()->first()"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="setModelServices" upperBound="-1"
        eType="#//SetModelServices" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_GridCompSetServices(#modelComp, #subroutineName, userRc?=#ignore, rc?=#ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="setCouplerServices" upperBound="-1"
        eType="#//SetCouplerServices" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_CplCompSetServices(#cplComp, #subroutineName, userRc?=#ignore, rc?=#ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriverAtmOcn">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="module"/>
      <details key="label" value="NUOPC Atm-Ocn Driver"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCApplication" eOpposite="#//NUOPCApplication/nuopcDriverAtmOcn"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="DriverAtmOcnDefault">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="moduleName"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="genericImports" lowerBound="1"
        eType="#//NUOPCDriverAtmOcn__GenericImports" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesModule: &quot;NUOPC_DriverAtmOcn&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="modelImports" lowerBound="1"
        eType="#//NUOPCDriverAtmOcn__ModelImports" containment="true" eOpposite="#//NUOPCDriverAtmOcn__ModelImports/parent"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSetServices"
        lowerBound="1" eType="#//NUOPCDriverAtmOcn__ImplementsSetServices" containment="true"
        eOpposite="#//NUOPCDriverAtmOcn__ImplementsSetServices/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(type(ESMF_GridComp) #param_gcomp, integer #param_rc)&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSetModelCount"
        eType="#//NUOPCDriverAtmOcn__ImplementsSetModelCount" containment="true" eOpposite="#//NUOPCDriverAtmOcn__ImplementsSetModelCount/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(type(ESMF_GridComp) #gcomp, integer #rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSetModelServices"
        eType="#//NUOPCDriverAtmOcn__ImplementsSetModelServices" containment="true"
        eOpposite="#//NUOPCDriverAtmOcn__ImplementsSetModelServices/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(type(ESMF_GridComp) #gcomp, integer #rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSetModelPetLists"
        eType="#//NUOPCDriverAtmOcn__ImplementsSetModelPetLists" containment="true"
        eOpposite="#//NUOPCDriverAtmOcn__ImplementsSetModelPetLists/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(type(ESMF_GridComp) #gcomp, integer #rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriverAtmOcn__GenericImports">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Imports from NUOPC Atm-Ocn Driver"/>
      <details key="doc" value="Subclasses of NUOPC Atm-Ocn Driver should import generic subroutines, types, and labels from NUOPC_DriverAtmOcn."/>
      <details key="icon" value="import.png"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsGenericSS" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="driver_routine_SS">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;routine_SetServices&quot;"/>
        <details key="label" value="routine_SetServices"/>
        <details key="doc" value="Subclasses of NUOPC Atm-Ocn Driver should import the public generic Set Services subroutine &quot;routine_SetServices&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsTypeDriverIS" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="driver_type_IS">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;type_InternalState&quot;"/>
        <details key="label" value="type_InternalState"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsLabelSetModelCount"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="driver_label_SetModelCount">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;label_SetModelCount&quot;"/>
        <details key="label" value="label_SetModelCount"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsLabelSetModelServices"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="driver_label_SetModelServices">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;label_SetModelServices&quot;"/>
        <details key="label" value="label_SetModelServices"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsLabelSetModelPetLists"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="driver_label_SetModelPetLists">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity: &quot;label_SetModelPetLists&quot;"/>
        <details key="label" value="label_SetModelPetLists"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriverAtmOcn__ModelImports">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Child Model Imports"/>
      <details key="icon" value="import.png"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriverAtmOcn" eOpposite="#//NUOPCDriverAtmOcn/modelImports"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="modelImport" upperBound="-1"
        eType="#//NUOPCDriverAtmOcn__ModelImports__ModelImport" containment="true"
        eOpposite="#//NUOPCDriverAtmOcn__ModelImports__ModelImport/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesModule: &quot;#name&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriverAtmOcn__ImplementsSetServices">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Services"/>
      <details key="doc" value="In general, a Set Services method is a public subroutine that sets entry points for the component. This subroutine should call the Set Services subroutine in the generic NUOPC Driver component."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriverAtmOcn" eOpposite="#//NUOPCDriverAtmOcn/implementsSetServices"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="SetServices" iD="true"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="param_gcomp" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="gcomp"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="param_rc" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="callsGenericSetServices"
        lowerBound="1" eType="#//CallsGenericSetServices" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;#../../genericImports/importsGenericSS(#gcomp, rc=#rc)&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="attachesMethod" upperBound="-1"
        eType="#//AttachesMethod" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_MethodAdd(#../param_gcomp, #name, #userRoutine, #ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriverAtmOcn__ImplementsSetModelCount">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Model Count"/>
      <details key="doc" value="A subroutine that sets the number of model managed by this driver."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriverAtmOcn" eOpposite="#//NUOPCDriverAtmOcn/implementsSetModelCount"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="gcomp" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="gcomp"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="SetModelCount" iD="true"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="driverInternalState" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="localVariable: &quot;type(type_InternalState)&quot; definedInModule: &quot;NUOPC_DriverAtmOcn&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="getsInternalState" eType="#//GetsInternalState"
        containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_UserCompGetInternalState(#ignore, #label, #../driverInternalState, #ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="assignsValue" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="assigns: #driverInternalState"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="attached" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.parent.genericImports.importsLabelSetModelCount &lt;> null &#xA;and self.parent.implementsSetServices.attachesMethod->size() > 0 &#xA;and self.name = self.parent.implementsSetServices.attachesMethod->select(m|m.name=self.parent.genericImports.importsLabelSetModelCount).userRoutine->asSequence()->first()"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriverAtmOcn__ImplementsSetModelServices">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Model Services"/>
      <details key="doc" value="A subroutine that sets services for child models."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriverAtmOcn" eOpposite="#//NUOPCDriverAtmOcn/implementsSetModelServices"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="gcomp" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="gcomp"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="SetModelServices" iD="true"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="driverInternalState" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="localVariable: &quot;type(type_InternalState)&quot; definedInModule: &quot;NUOPC_DriverAtmOcn&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="getsInternalState" eType="#//GetsInternalState"
        containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_UserCompGetInternalState(#ignore, #label, #../driverInternalState, #ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="assignsValue" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="assigns: #driverInternalState"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="attached" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.parent.genericImports.importsLabelSetModelServices &lt;> null &#xA;and self.parent.implementsSetServices.attachesMethod->size() > 0 &#xA;and self.name = self.parent.implementsSetServices.attachesMethod->select(m|m.name=self.parent.genericImports.importsLabelSetModelServices).userRoutine->asSequence()->first()"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="setModelServices" upperBound="-1"
        eType="#//SetModelServices" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_GridCompSetServices(#modelComp, #subroutineName, userRc?=#ignore, rc?=#ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="setCouplerServices" upperBound="-1"
        eType="#//SetCouplerServices" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_CplCompSetServices(#cplComp, #subroutineName, userRc?=#ignore, rc?=#ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriverAtmOcn__ImplementsSetModelPetLists">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Model PET Lists"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriverAtmOcn" eOpposite="#//NUOPCDriverAtmOcn/implementsSetModelPetLists"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="gcomp" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="gcomp"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="SetModelServices" iD="true"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="driverInternalState" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="localVariable: &quot;type(#../../genericImports/importsTypeDriverIS)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="getsInternalState" eType="#//GetsInternalState"
        containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_UserCompGetInternalState(#ignore, #label, #../driverInternalState, #ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="assignsValue" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="assigns: #driverInternalState"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="attached" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.parent.genericImports.importsLabelSetModelPetLists &lt;> null &#xA;and self.parent.implementsSetServices.attachesMethod->size() > 0 &#xA;and self.name = self.parent.implementsSetServices.attachesMethod->select(m|m.name=self.parent.genericImports.importsLabelSetModelPetLists).userRoutine->asSequence()->first()"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCDriverAtmOcn__ModelImports__ModelImport">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Model Import"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCDriverAtmOcn__ModelImports" eOpposite="#//NUOPCDriverAtmOcn__ModelImports/modelImport"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="setServices" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="usesEntity"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="modelRef" lowerBound="1"
        eType="#//NUOPCModel">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="let models : Set(NUOPCModel) = self.parent.parent.parent.nuopcModel->select(m|m.name=self.name)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;in&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if models &lt;> null and models->notEmpty() then&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;models->asSequence()->first()&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;else &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;null &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;endif"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="CallsGenericSetServices">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Calls Generic Set Services"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="gcomp" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="gcomp"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="CallsSetEntryPoint">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Calls ESMF_GridCompSetEntryPoint"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="method" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="userRoutine" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="phase" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="AttachesMethod">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Attaches Method"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="userRoutine" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="index" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="SetModelServices">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Model Services"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="modelComp" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="subroutineName" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="SetCouplerServices">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Set Coupler Services"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="cplComp" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="subroutineName" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="GetsInternalState">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="label" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mappingX" value="argByIndex: 2"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="NUOPC Mediator"/>
    </eAnnotations>
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="module"/>
      <details key="label" value="NUOPC Mediator"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="Model">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="moduleName"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="genericImports" lowerBound="1"
        eType="#//NUOPCMediator__GenericImports" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsSetServices"
        lowerBound="1" eType="#//NUOPCMediator__ImplementsSetServices" containment="true"
        eOpposite="#//NUOPCMediator__ImplementsSetServices/parent" eKeys="#//NUOPCMediator__ImplementsSetServices/name">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) #param_gcomp, out integer #param_rc)&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="initialize" lowerBound="1"
        eType="#//NUOPCMediator__Init" containment="true" eOpposite="#//NUOPCMediator__Init/parent"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsModelAdvance"
        upperBound="-1" eType="#//NUOPCMediator__ModelAdvance" containment="true"
        eOpposite="#//NUOPCMediator__ModelAdvance/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(type(ESMF_GridComp), integer)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__GenericImports">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Imports from NUOPC Mediator"/>
      <details key="icon" value="import.png"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsGenericSS" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="model_routine_SS">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="uses: &quot;NUOPC_Mediator&quot; entity: &quot;routine_SetServices&quot;"/>
        <details key="label" value="routine_SetServices"/>
        <details key="doc" value="Subclasses of NUOPC Mediator should import the public generic Set Services subroutine &quot;routine_SetServices&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importsLabelModelAdvance"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="model_label_Advance">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="uses: &quot;NUOPC_Mediator&quot; entity: &quot;label_Advance&quot;"/>
        <details key="label" value="label_Advance"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__Init">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Mediator Initialization"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCMediator" eOpposite="#//NUOPCMediator/initialize"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsInitP1" lowerBound="1"
        eType="#//NUOPCMediator__ImplementsInitP1" containment="true" eOpposite="#//NUOPCMediator__ImplementsInitP1/parent"
        eKeys="#//NUOPCMediator__ImplementsInitP1/name">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) gcomp, inout type(ESMF_State) #importParam, inout type(ESMF_State) #exportParam, inout type(ESMF_Clock) clock, out integer rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="implementsInitP2" lowerBound="1"
        eType="#//NUOPCMediator__ImplementsInitP2" containment="true" eOpposite="#//NUOPCMediator__ImplementsInitP2/parent"
        eKeys="#//NUOPCMediator__ImplementsInitP2/name">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) gcomp, inout type(ESMF_State) #importParam, inout type(ESMF_State) #exportParam, inout type(ESMF_Clock) clock, out integer rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__ImplementsSetServices">
    <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore">
      <details key="constraints" value="registersInitP1 registersInitP2"/>
    </eAnnotations>
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) #param_gcomp, out integer #param_rc)&quot;"/>
      <details key="label" value="Set Services"/>
      <details key="doc" value="In general, a Set Services method is a public subroutine that sets entry points for the component. This subroutine should call the Set Services subroutine in the &#xD;&#xA;generic NUOPC Model component."/>
    </eAnnotations>
    <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
      <details key="registersInitP1" value="self.parent.initialize.implementsInitP1=null or self.callsSetEntryPoint->select(c|c.userRoutine=self.parent.initialize.implementsInitP1.name)->notEmpty()"/>
      <details key="registersInitP1$message" value="'A call is required in the Set Services method to ESMF_GridCompSetEntryPoint in order to register the initialize phase 1 method.'"/>
      <details key="registersInitP2" value="self.parent.initialize.implementsInitP2=null or self.callsSetEntryPoint->select(c|c.userRoutine=self.parent.initialize.implementsInitP2.name)->notEmpty()"/>
      <details key="registersInitP2$message" value="'A call is required in the Set Services method to ESMF_GridCompSetEntryPoint in order to register the initialize phase 2 method.'"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCMediator" eOpposite="#//NUOPCMediator/implementsSetServices"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="SetServices"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="param_gcomp" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="gcomp"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="param_rc" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="callsGenericSetServices"
        lowerBound="1" eType="#//CallsGenericSetServices" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;#../../genericImports/importsGenericSS(#gcomp, rc=#rc)&quot;"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="callsSetEntryPoint" upperBound="-1"
        eType="#//CallsSetEntryPoint" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_GridCompSetEntryPoint(#ignore, #method, userRoutine=#userRoutine, phase?=#phase, rc=#ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="attachesMethod" ordered="false"
        upperBound="-1" eType="#//AttachesMethod" containment="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;ESMF_MethodAdd(#ignore, index?=#index, label=#name, userRoutine=#userRoutine, rc=#ignore)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__ImplementsInitP1">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) gcomp, inout type(ESMF_State) #importParam, inout type(ESMF_State) #exportParam, inout type(ESMF_Clock) clock, out integer rc)&quot;"/>
      <details key="doc" value="Initialize Phase Definition: IPDv01p1&#xD;&#xA;&#xD;&#xA;In this phase, models should advertise the set of import and export fields. This is the list of fields that may potentially be exchanged during coupling, although some fields may not be connected for a particular configuration."/>
      <details key="label" value="Initialize Phase Definition - IPDv01p1"/>
      <details key="task" value="Implement Init Phase Definition (IPDv01p1)"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCMediator__Init" eOpposite="#//NUOPCMediator__Init/implementsInitP1"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="InitP1"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importParam" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="importState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="exportParam" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="exportState"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="advertisesImportField"
        upperBound="-1" eType="#//NUOPCMediator__AdvertisesImportField" containment="true"
        eOpposite="#//NUOPCMediator__AdvertisesImportField/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;NUOPC_StateAdvertiseField(#addsToState, StandardName=#standardName, #rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="advertisesExportField"
        upperBound="-1" eType="#//NUOPCMediator__AdvertisesExportField" containment="true"
        eOpposite="#//NUOPCMediator__AdvertisesExportField/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;NUOPC_StateAdvertiseField(#addsToState, StandardName=#standardName, #rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="advertisesAtLeastOneField"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
        derived="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.advertisesExportField->size() > 0 or self.advertisesImportField->size() > 0"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="registeredInSetServices"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.parent.parent.implementsSetServices.callsSetEntryPoint->select(c|c.userRoutine=self.name and c.phase='1')->notEmpty()"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="advertisesOrRegistered"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.registeredInSetServices or self.advertisesAtLeastOneField"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__ImplementsInitP2">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="subroutine: &quot;#name(inout type(ESMF_GridComp) gcomp, inout type(ESMF_State) #importParam, inout type(ESMF_State) #exportParam, inout type(ESMF_Clock) clock, out integer rc)&quot;"/>
      <details key="doc" value="Initialize Phase Definition: IPDv01p2&#xD;&#xA;&#xD;&#xA;In this phase, models should realize the set of import and export fields. "/>
      <details key="label" value="Initialize Phase Definition - IPDv01p2"/>
      <details key="iconAdd" value="cog_add.png"/>
      <details key="task" value="Implement Init Phase Definition (IPDv01p2)"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCMediator__Init" eOpposite="#//NUOPCMediator__Init/implementsInitP2"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="InitP2"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="importParam" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="importState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="exportParam" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="exportState"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="realizesImportField" upperBound="-1"
        eType="#//NUOPCMediator__RealizesImportField" containment="true" eOpposite="#//NUOPCMediator__RealizesImportField/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;NUOPC_StateRealizeField(#realizedInState, field=#field, rc=#rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="realizesExportField" upperBound="-1"
        eType="#//NUOPCMediator__RealizesExportField" containment="true" eOpposite="#//NUOPCMediator__RealizesExportField/parent">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="call: &quot;NUOPC_StateRealizeField(#realizedInState, field=#field, rc=#rc)&quot;"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizesAtLeastOneField"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
        derived="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.realizesImportField->size() > 0 or self.realizesExportField->size() > 0"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="registeredInSetServices"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.parent.parent.implementsSetServices.callsSetEntryPoint->select(c|c.userRoutine=self.name and c.phase='2')->notEmpty()"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizesOrRegistered" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.registeredInSetServices or self.realizesAtLeastOneField"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__AdvertisesImportField">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Advertise Import Field"/>
      <details key="task" value="Advertise Import Field"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCMediator__ImplementsInitP1" eOpposite="#//NUOPCMediator__ImplementsInitP1/advertisesImportField"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="addsToState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="importState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="addsToImportState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.addsToState = self.parent.importParam"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="standardName" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="&quot;Standard_Name&quot;"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__AdvertisesExportField">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Advertise Export Field"/>
      <details key="task" value="Advertise Export Field"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCMediator__ImplementsInitP1" eOpposite="#//NUOPCMediator__ImplementsInitP1/advertisesExportField"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="addsToState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="exportState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="addsToExportState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.addsToState = self.parent.exportParam"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="standardName" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="&quot;Standard_Name&quot;"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__RealizesImportField">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="mapping" value="call: NUOPC_StateRealizeField"/>
      <details key="label" value="Realize Import Field"/>
      <details key="task" value="Realize Import Field"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCMediator__ImplementsInitP2" eOpposite="#//NUOPCMediator__ImplementsInitP2/realizesImportField"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizedInState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="importState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizedInImportState"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
        derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.realizedInState = self.parent.importParam"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="field" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__RealizesExportField">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Realize Export Field"/>
      <details key="task" value="Realize Export Field"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCMediator__ImplementsInitP2" eOpposite="#//NUOPCMediator__ImplementsInitP2/realizesExportField"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizedInState" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString" defaultValueLiteral="exportState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rc" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="rc"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="realizedInExportState"
        lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
        derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.realizedInState = self.parent.exportParam"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="field" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NUOPCMediator__ModelAdvance">
    <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
      <details key="label" value="Model Advance"/>
      <details key="doc" value="A subroutine called to advance the model ahead by the timestep interval."/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" lowerBound="1"
        eType="#//NUOPCMediator" eOpposite="#//NUOPCMediator/implementsModelAdvance"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral="ModelAdvance">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="mapping" value="subroutineName"/>
        <details key="essential" value="true"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="attachedModelAdvance" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean" derived="true">
      <eAnnotations source="http://www.earthsystemcog.org/projects/nuopc">
        <details key="essential" value="true"/>
        <details key="derivation_real" value="self.name = &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;self.parent.implementsSetServices.attachesMethod->select(m|m.name=self.parent.genericImports.importsLabelModelAdvance).userRoutine->asSequence()->first()"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/Ecore/OCL">
        <details key="derivation" value="self.parent &lt;> null and self.parent.implementsSetServices &lt;> null and &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;self.parent.implementsSetServices.attachesMethod->size() > 0 &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;and&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;self.parent.genericImports &lt;> null and self.parent.genericImports.importsLabelModelAdvance &lt;> null and&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;self.parent.implementsSetServices.attachesMethod->select(m|m.name=self.parent.genericImports.importsLabelModelAdvance).userRoutine->includes(self.name)"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="MappedElement">
    <eTypeParameters name="M"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="mapsTo">
      <eGenericType eTypeParameter="#//MappedElement/M"/>
    </eStructuralFeatures>
  </eClassifiers>
</ecore:EPackage>
